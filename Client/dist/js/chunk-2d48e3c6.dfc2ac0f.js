(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d48e3c6"],{"0314":function(t,e,r){"use strict";r("7820")},"0538":function(t,e,r){"use strict";var n=r("1c0b"),o=r("861d"),i=[].slice,s={},a=function(t,e,r){if(!(e in s)){for(var n=[],o=0;o<e;o++)n[o]="a["+o+"]";s[e]=Function("C,a","return new C("+n.join(",")+")")}return s[e](t,r)};t.exports=Function.bind||function(t){var e=n(this),r=i.call(arguments,1),s=function(){var n=r.concat(i.call(arguments));return this instanceof s?a(e,n.length,n):e.apply(t,n)};return o(e.prototype)&&(s.prototype=e.prototype),s}},"057f":function(t,e,r){var n=r("fc6a"),o=r("241c").f,i={}.toString,s="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],a=function(t){try{return o(t)}catch(e){return s.slice()}};t.exports.f=function(t){return s&&"[object Window]"==i.call(t)?a(t):o(n(t))}},2908:function(t,e,r){},4211:function(t,e,r){"use strict";r("b2ef")},4795:function(t,e,r){var n=r("23e7"),o=r("da84"),i=r("342f"),s=[].slice,a=/MSIE .\./.test(i),c=function(t){return function(e,r){var n=arguments.length>2,o=n?s.call(arguments,2):void 0;return t(n?function(){("function"==typeof e?e:Function(e)).apply(this,o)}:e,r)}};n({global:!0,bind:!0,forced:a},{setTimeout:c(o.setTimeout),setInterval:c(o.setInterval)})},"498a":function(t,e,r){"use strict";var n=r("23e7"),o=r("58a8").trim,i=r("c8d2");n({target:"String",proto:!0,forced:i("trim")},{trim:function(){return o(this)}})},"555f":function(t,e,r){"use strict";var n=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},o=[function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"sk-cube-grid"},[r("div",{staticClass:"sk-cube sk-cube1"}),r("div",{staticClass:"sk-cube sk-cube2"}),r("div",{staticClass:"sk-cube sk-cube3"}),r("div",{staticClass:"sk-cube sk-cube4"}),r("div",{staticClass:"sk-cube sk-cube5"}),r("div",{staticClass:"sk-cube sk-cube6"}),r("div",{staticClass:"sk-cube sk-cube7"}),r("div",{staticClass:"sk-cube sk-cube8"}),r("div",{staticClass:"sk-cube sk-cube9"})])}],i=(r("74ae"),r("2877")),s={},a=Object(i["a"])(s,n,o,!1,null,null,null);e["a"]=a.exports},5899:function(t,e){t.exports="\t\n\v\f\r                　\u2028\u2029\ufeff"},"58a8":function(t,e,r){var n=r("1d80"),o=r("5899"),i="["+o+"]",s=RegExp("^"+i+i+"*"),a=RegExp(i+i+"*$"),c=function(t){return function(e){var r=String(n(e));return 1&t&&(r=r.replace(s,"")),2&t&&(r=r.replace(a,"")),r}};t.exports={start:c(1),end:c(2),trim:c(3)}},6020:function(t,e,r){"use strict";r("6f3a")},"6f3a":function(t,e,r){},"746f":function(t,e,r){var n=r("428f"),o=r("5135"),i=r("e538"),s=r("9bf2").f;t.exports=function(t){var e=n.Symbol||(n.Symbol={});o(e,t)||s(e,t,{value:i.f(t)})}},"74ae":function(t,e,r){"use strict";r("b4ad")},7820:function(t,e,r){},"89d2":function(t,e,r){},a4d3:function(t,e,r){"use strict";var n=r("23e7"),o=r("da84"),i=r("d066"),s=r("c430"),a=r("83ab"),c=r("4930"),u=r("fdbf"),d=r("d039"),l=r("5135"),f=r("e8b5"),p=r("861d"),h=r("825a"),m=r("7b0b"),v=r("fc6a"),b=r("c04e"),g=r("5c6c"),y=r("7c73"),w=r("df75"),T=r("241c"),O=r("057f"),S=r("7418"),C=r("06cf"),_=r("9bf2"),x=r("d1e7"),E=r("9112"),R=r("6eeb"),k=r("5692"),D=r("f772"),$=r("d012"),A=r("90e3"),j=r("b622"),L=r("e538"),P=r("746f"),N=r("d44e"),F=r("69f3"),I=r("b727").forEach,G=D("hidden"),J="Symbol",U="prototype",B=j("toPrimitive"),M=F.set,H=F.getterFor(J),q=Object[U],Q=o.Symbol,W=i("JSON","stringify"),z=C.f,K=_.f,V=O.f,X=x.f,Y=k("symbols"),Z=k("op-symbols"),tt=k("string-to-symbol-registry"),et=k("symbol-to-string-registry"),rt=k("wks"),nt=o.QObject,ot=!nt||!nt[U]||!nt[U].findChild,it=a&&d((function(){return 7!=y(K({},"a",{get:function(){return K(this,"a",{value:7}).a}})).a}))?function(t,e,r){var n=z(q,e);n&&delete q[e],K(t,e,r),n&&t!==q&&K(q,e,n)}:K,st=function(t,e){var r=Y[t]=y(Q[U]);return M(r,{type:J,tag:t,description:e}),a||(r.description=e),r},at=u?function(t){return"symbol"==typeof t}:function(t){return Object(t)instanceof Q},ct=function(t,e,r){t===q&&ct(Z,e,r),h(t);var n=b(e,!0);return h(r),l(Y,n)?(r.enumerable?(l(t,G)&&t[G][n]&&(t[G][n]=!1),r=y(r,{enumerable:g(0,!1)})):(l(t,G)||K(t,G,g(1,{})),t[G][n]=!0),it(t,n,r)):K(t,n,r)},ut=function(t,e){h(t);var r=v(e),n=w(r).concat(ht(r));return I(n,(function(e){a&&!lt.call(r,e)||ct(t,e,r[e])})),t},dt=function(t,e){return void 0===e?y(t):ut(y(t),e)},lt=function(t){var e=b(t,!0),r=X.call(this,e);return!(this===q&&l(Y,e)&&!l(Z,e))&&(!(r||!l(this,e)||!l(Y,e)||l(this,G)&&this[G][e])||r)},ft=function(t,e){var r=v(t),n=b(e,!0);if(r!==q||!l(Y,n)||l(Z,n)){var o=z(r,n);return!o||!l(Y,n)||l(r,G)&&r[G][n]||(o.enumerable=!0),o}},pt=function(t){var e=V(v(t)),r=[];return I(e,(function(t){l(Y,t)||l($,t)||r.push(t)})),r},ht=function(t){var e=t===q,r=V(e?Z:v(t)),n=[];return I(r,(function(t){!l(Y,t)||e&&!l(q,t)||n.push(Y[t])})),n};if(c||(Q=function(){if(this instanceof Q)throw TypeError("Symbol is not a constructor");var t=arguments.length&&void 0!==arguments[0]?String(arguments[0]):void 0,e=A(t),r=function(t){this===q&&r.call(Z,t),l(this,G)&&l(this[G],e)&&(this[G][e]=!1),it(this,e,g(1,t))};return a&&ot&&it(q,e,{configurable:!0,set:r}),st(e,t)},R(Q[U],"toString",(function(){return H(this).tag})),R(Q,"withoutSetter",(function(t){return st(A(t),t)})),x.f=lt,_.f=ct,C.f=ft,T.f=O.f=pt,S.f=ht,L.f=function(t){return st(j(t),t)},a&&(K(Q[U],"description",{configurable:!0,get:function(){return H(this).description}}),s||R(q,"propertyIsEnumerable",lt,{unsafe:!0}))),n({global:!0,wrap:!0,forced:!c,sham:!c},{Symbol:Q}),I(w(rt),(function(t){P(t)})),n({target:J,stat:!0,forced:!c},{for:function(t){var e=String(t);if(l(tt,e))return tt[e];var r=Q(e);return tt[e]=r,et[r]=e,r},keyFor:function(t){if(!at(t))throw TypeError(t+" is not a symbol");if(l(et,t))return et[t]},useSetter:function(){ot=!0},useSimple:function(){ot=!1}}),n({target:"Object",stat:!0,forced:!c,sham:!a},{create:dt,defineProperty:ct,defineProperties:ut,getOwnPropertyDescriptor:ft}),n({target:"Object",stat:!0,forced:!c},{getOwnPropertyNames:pt,getOwnPropertySymbols:ht}),n({target:"Object",stat:!0,forced:d((function(){S.f(1)}))},{getOwnPropertySymbols:function(t){return S.f(m(t))}}),W){var mt=!c||d((function(){var t=Q();return"[null]"!=W([t])||"{}"!=W({a:t})||"{}"!=W(Object(t))}));n({target:"JSON",stat:!0,forced:mt},{stringify:function(t,e,r){var n,o=[t],i=1;while(arguments.length>i)o.push(arguments[i++]);if(n=e,(p(e)||void 0!==t)&&!at(t))return f(e)||(e=function(t,e){if("function"==typeof n&&(e=n.call(this,t,e)),!at(e))return e}),o[1]=e,W.apply(null,o)}})}Q[U][B]||E(Q[U],B,Q[U].valueOf),N(Q,J),$[G]=!0},b2ef:function(t,e,r){},b4ad:function(t,e,r){},c0b6:function(t,e,r){var n=r("23e7"),o=r("0538");n({target:"Function",proto:!0},{bind:o})},c740:function(t,e,r){"use strict";var n=r("23e7"),o=r("b727").findIndex,i=r("44d2"),s="findIndex",a=!0;s in[]&&Array(1)[s]((function(){a=!1})),n({target:"Array",proto:!0,forced:a},{findIndex:function(t){return o(this,t,arguments.length>1?arguments[1]:void 0)}}),i(s)},c8d2:function(t,e,r){var n=r("d039"),o=r("5899"),i="​᠎";t.exports=function(t){return n((function(){return!!o[t]()||i[t]()!=i||o[t].name!==t}))}},c90b:function(t,e,r){"use strict";r("2908")},e01a:function(t,e,r){"use strict";var n=r("23e7"),o=r("83ab"),i=r("da84"),s=r("5135"),a=r("861d"),c=r("9bf2").f,u=r("e893"),d=i.Symbol;if(o&&"function"==typeof d&&(!("description"in d.prototype)||void 0!==d().description)){var l={},f=function(){var t=arguments.length<1||void 0===arguments[0]?void 0:String(arguments[0]),e=this instanceof f?new d(t):void 0===t?d():d(t);return""===t&&(l[e]=!0),e};u(f,d);var p=f.prototype=d.prototype;p.constructor=f;var h=p.toString,m="Symbol(test)"==String(d("test")),v=/^Symbol\((.*)\)[^)]+$/;c(p,"description",{configurable:!0,get:function(){var t=a(this)?this.valueOf():this,e=h.call(t);if(s(l,t))return"";var r=m?e.slice(7,-1):e.replace(v,"$1");return""===r?void 0:r}}),n({global:!0,forced:!0},{Symbol:f})}},e538:function(t,e,r){var n=r("b622");e.f=n},ed30:function(t,e,r){"use strict";r("89d2")},fd1f:function(t,e,r){"use strict";r.r(e);var n=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"container"},[r("div",{staticClass:"row"},[r("AddTodo"),r("FiltersTodo")],1)])},o=[],i=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"rowcard my-rowcard card-default col-sm"},[r("h4",{staticClass:"alert alert-info text-left"},[t._v("Add task")]),r("form",{on:{submit:function(e){return e.preventDefault(),t.onSubmit(e)}}},[r("b-alert",{attrs:{variant:"danger",show:t.dismissCountDown,dismissible:"",fade:""},on:{"dismiss-count-down":t.countDownChanged}},[t._v(" "+t._s(t.textAlert)+" ")]),r("b-alert",{attrs:{variant:"success",show:t.dismissCountDownGood,dismissible:"",fade:""},on:{"dismiss-count-down":t.countDownChangedGood}},[t._v(" "+t._s(t.textAlert)+" ")]),r("div",{staticClass:"form-group"},[r("label",{attrs:{for:"title-input"}},[t._v("Title:")]),r("input",{directives:[{name:"model",rawName:"v-model",value:t.title,expression:"title"}],staticClass:"form-control",attrs:{type:"text",id:"title-input",placeholder:"Title task"},domProps:{value:t.title},on:{input:function(e){e.target.composing||(t.title=e.target.value)}}})]),r("div",{staticClass:"form-group"},[r("label",{attrs:{for:"description-input"}},[t._v("Description:")]),r("input",{directives:[{name:"model",rawName:"v-model",value:t.description,expression:"description"}],staticClass:"form-control",attrs:{type:"text",id:"description-input",placeholder:"Description"},domProps:{value:t.description},on:{input:function(e){e.target.composing||(t.description=e.target.value)}}})]),r("button",{staticClass:"btn btn-primary text-center",attrs:{type:"submit"}},[t._v("Add")])],1)])},s=[],a=r("1da1"),c=(r("96cf"),r("4795"),r("c0b6"),r("498a"),r("a4d3"),r("e01a"),r("d3b7"),{name:"AddTodo",data:function(){return{title:"",textAlert:"",description:"",dismissSecs:4,dismissCountDown:0,dismissSecsGood:4,dismissCountDownGood:0}},computed:{getUser:function(){return this.$store.getters.user},todoList:function(){return this.$store.getters.TODOS},getError:function(){return this.$store.getters.addError}},created:function(){var t=this;return Object(a["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.$store.dispatch("SET_ERROR",{type:"edit",error:null});case 2:if(null===t.getError){e.next=7;break}return console.log(t.getError),t.showAlert(),e.next=7,setTimeout(function(){this.$store.dispatch("SET_ERROR",{type:"add",error:null})}.bind(t),5e3);case 7:case"end":return e.stop()}}),e)})))()},methods:{countDownChanged:function(t){this.dismissCountDown=t},countDownChangedGood:function(t){this.dismissCountDownGood=t},showAlert:function(t){t?(this.dismissCountDown=0,this.dismissCountDownGood=this.dismissSecs,this.textAlert="Task successfully added"):(this.dismissCountDownGood=0,this.dismissCountDown=this.dismissSecs,this.textAlert=this.getError)},onSubmit:function(){var t=this;return Object(a["a"])(regeneratorRuntime.mark((function e(){var r,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=void 0===t.title?"":t.title.trim(),n=void 0===t.description?"":t.description.trim(),e.next=4,fetch("/api/todos",{method:"POST",body:JSON.stringify({user_id:t.getUser.id,title:r,description:n,completed:"false"}),headers:{"Content-type":"application/json; charset=UTF-8"}}).then((function(e){200===e.status?e.json().then((function(e){t.$store.dispatch("SET_ERROR",{type:"add",error:null}),t.$store.dispatch("ADD_TODO",JSON.parse(e)),t.title="",t.description="",t.showAlert(!0)})):e.json().then((function(e){t.$store.dispatch("SET_ERROR",{type:"add",error:e.error}),t.showAlert(!1)}))}))["catch"]((function(e){t.$store.dispatch("SET_ERROR",{type:"add",error:e}),t.showAlert(!1)}));case 4:case"end":return e.stop()}}),e)})))()}}}),u=c,d=(r("4211"),r("2877")),l=Object(d["a"])(u,i,s,!1,null,null,null),f=l.exports,p=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"rowcard my-rowcard card-default w-100 mx-auto col-sm",attrs:{id:"section-container"}},[r("h4",{staticClass:"alert alert-info text-left"},[t._v("Task list")]),r("div",[r("form",[r("label",{attrs:{for:"filter"}},[t._v("Filters:")]),r("input",{directives:[{name:"model",rawName:"v-model",value:t.filterTitle,expression:"filterTitle"}],staticClass:"form-control for-margin",attrs:{type:"text",id:"filter",placeholder:"Title task"},domProps:{value:t.filterTitle},on:{input:[function(e){e.target.composing||(t.filterTitle=e.target.value)},t.findByTitle]}}),r("select",{directives:[{name:"model",rawName:"v-model",value:t.filter,expression:"filter"}],staticClass:"form-control for-margin",attrs:{"aria-label":"Basic example"},on:{change:[function(e){var r=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.filter=e.target.multiple?r:r[0]},t.onChangeSelect]}},[r("option",{attrs:{value:"all"}},[t._v("All tasks")]),r("option",{attrs:{value:"finished"}},[t._v("Finished")]),r("option",{attrs:{value:"unfinished"}},[t._v("Unfinished")])])])]),t.loading?r("Loader"):r("div",{staticClass:"card card-default my-style mx-auto col-sm"},[void 0!==t.filteredTodos&&t.filteredTodos.length?r("TodoList",{attrs:{todos:t.filteredTodos}}):r("p",[t._v("No tasks")])],1)],1)},h=[],m=(r("4de4"),function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("ul",{attrs:{id:"todo-list"}},t._l(t.todos,(function(t){return r("TodoItem",{attrs:{todo:t}})})),1)])}),v=[],b=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[t.loading?r("Loader"):r("li",[r("b-alert",{attrs:{variant:"danger",show:t.dismissCountDown,dismissible:"",fade:""},on:{"dismiss-count-down":t.countDownChanged}},[t._v(" "+t._s(t.textAlert)+" ")]),r("span",[r("label",[r("input",{directives:[{name:"model",rawName:"v-model",value:"true"===t.todo.completed,expression:"todo.completed === 'true'"}],staticClass:"my-checkbox",attrs:{type:"checkbox"},domProps:{checked:Array.isArray("true"===t.todo.completed)?t._i("true"===t.todo.completed,null)>-1:"true"===t.todo.completed},on:{change:[function(e){var r="true"===t.todo.completed,n=e.target,o=!!n.checked;if(Array.isArray(r)){var i=null,s=t._i(r,i);n.checked?s<0&&t.$set(t.todo,"completed === 'true'",r.concat([i])):s>-1&&t.$set(t.todo,"completed === 'true'",r.slice(0,s).concat(r.slice(s+1)))}else t.$set(t.todo,"completed === 'true'",o)},function(e){return t.editStatusTodo()}]}})]),r("keep-alive",[r("router-link",{attrs:{tag:"a",to:{name:"todoId",params:{id:t.todo.id}}}},[t._v(t._s(t.todo.title))])],1)],1),r("button",{staticClass:"my-button-delete btn  btn-danger",on:{click:function(e){return t.removeTodoClicked(t.todo.id)}}},[t._v("Remove")])],1)],1)},g=[],y=(r("c740"),r("c975"),r("555f")),w={name:"TodoItem",props:{todo:{type:Object,required:!0}},data:function(){return{error:!1,loading:!1,textAlert:"",dismissSecs:4,dismissCountDown:0,dismissSecsGood:4,dismissCountDownGood:0}},components:{Loader:y["a"]},computed:{todoList:function(){return this.$store.getters.TODOS},getError:function(){return this.$store.getters.addError}},methods:{countDownChanged:function(t){this.dismissCountDown=t},countDownChangedGood:function(t){this.dismissCountDownGood=t},showAlert:function(t){t?(this.dismissCountDown=0,this.dismissCountDownGood=this.dismissSecs,this.textAlert="Task successfully removed"):(this.dismissCountDownGood=0,this.dismissCountDown=this.dismissSecs,this.textAlert=this.getError)},removeTodoClicked:function(t){var e=this;return Object(a["a"])(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:if(confirm("Are you sure?")){r.next=2;break}return r.abrupt("return");case 2:return e.loading=!0,r.next=5,fetch("/api/todos/delete",{method:"POST",body:JSON.stringify({id:e.todo.id,user_id:e.todo.user_id}),headers:{"Content-type":"application/json; charset=UTF-8"}}).then((function(r){200===r.status||404===r.status?r.json().then((function(r){e.$store.dispatch("SET_ERROR",{type:"add",error:null}),e.$store.dispatch("DELETE_TODO",e.todoList.findIndex((function(e){return e.id===t})))})):r.json().then((function(t){e.$store.dispatch("SET_ERROR",{type:"add",error:t.error}),e.showAlert(!1)}))}))["catch"]((function(t){e.$store.dispatch("SET_ERROR",{type:"add",error:t}),e.showAlert(!1)}));case 5:e.loading=!1;case 6:case"end":return r.stop()}}),r)})))()},editStatusTodo:function(){var t=this;return Object(a["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api/todos/".concat(t.todo.id),{method:"POST",body:JSON.stringify({user_id:t.todo.user_id,title:t.todo.title,description:t.todo.description,completed:"false"===t.todo.completed?"true":"false"}),headers:{"Content-type":"application/json; charset=UTF-8"}}).then((function(e){200===e.status?e.json().then((function(e){t.$store.dispatch("SET_ERROR",{type:"add",error:null}),t.$store.dispatch("EDIT_TODO",{idx:t.todoList.indexOf(t.todo),todo:JSON.parse(e)})})):404===e.status?(t.$store.dispatch("SET_ERROR",{type:"add",error:null}),t.$store.dispatch("DELETE_TODO",t.todoList.findIndex((function(t){return t.id===id})))):e.json().then((function(e){t.$store.dispatch("SET_ERROR",{type:"add",error:e.error}),t.showAlert(!1)}))}))["catch"]((function(e){t.$store.dispatch("SET_ERROR",{type:"add",error:e}),t.showAlert(!1)}));case 2:case"end":return e.stop()}}),e)})))()}}},T=w,O=(r("c90b"),Object(d["a"])(T,b,g,!1,null,"79d11b58",null)),S=O.exports,C={name:"TodoList",props:["todos"],components:{TodoItem:S}},_=C,x=(r("ed30"),Object(d["a"])(_,m,v,!1,null,null,null)),E=x.exports,R={name:"FiltersTodo",data:function(){return{filter:"all",filterTitle:"",loading:!0,filteredTodos:this.todoList}},components:{TodoList:E,TodoItem:S,Loader:y["a"]},created:function(){var t=this;return Object(a["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(0!==t.todoList.length){e.next=9;break}if(null!==t.getUser){e.next=7;break}return e.next=4,t.$store.dispatch("SET_ERROR",{type:"login",error:"Forbidden"});case 4:return e.next=6,t.$router.push({path:"/login"});case 6:return e.abrupt("return");case 7:return e.next=9,t.$store.dispatch("FETCH_TODOS",{id:t.getUser.id});case 9:t.loading=!1,t.onChangeSelect();case 11:case"end":return e.stop()}}),e)})))()},computed:{getUser:function(){return this.$store.getters.user},todoList:function(){return this.$store.getters.TODOS}},methods:{onChangeSelect:function(){"all"===this.filter&&(this.filteredTodos=this.todoList),"finished"===this.filter&&(this.filteredTodos=this.$store.getters.COMPL_TODOS),"unfinished"===this.filter&&(this.filteredTodos=this.$store.getters.NOT_COMPL_TODOS)},findByTitle:function(){this.filteredTodos=void 0===this.filterTitle?this.todoList:this.$store.getters.SEARCH_TODOS(this.filterTitle.trim())}}},k=R,D=(r("6020"),Object(d["a"])(k,p,h,!1,null,"06298715",null)),$=D.exports,A={name:"Todos",components:{FiltersTodo:$,AddTodo:f}},j=A,L=(r("0314"),Object(d["a"])(j,n,o,!1,null,"3950d25c",null));e["default"]=L.exports}}]);
//# sourceMappingURL=chunk-2d48e3c6.dfc2ac0f.js.map